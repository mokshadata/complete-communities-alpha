(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{161:function(e,t,a){e.exports=a(205)},166:function(e,t,a){},176:function(e,t,a){},192:function(e,t){},193:function(e,t){},194:function(e,t){},205:function(e,t,a){"use strict";a.r(t);var n=a(3),r=a.n(n),o=a(125),c=a.n(o),i=(a(166),a(167),a(1)),l=a(2),s=a(9),u=a(7),m=a(10),h=(a(168),a(169),a(21)),p=a(14),d=a(75),b=a(49),g=a(212),j=a(213),O=a(214),v=a(224),f=a(223),E=a(95),y=a(144),N=a(109),C=(a(206),a(228)),k=a(135),S=a(208),F=a(227),T=a(146),w=a(209),A=a(230),P=a(210),R=a(211),H=a(226),L=S.a(function(e,t,a){return F.a(T.a(w.a),A.a({type:P.a(e),payload:t,meta:a}))}),D=L(R.a,H.a,P.a(null)),z=L(R.a,P.a(null),P.a(null)),B={"ACRES HOME":"Acres Homes","NEAR NORTHSIDE":"Near Northside",GULFTON:"Gulfton","SECOND WARD":"Second Ward","GREATER THIRD WARD":"Third Ward"},_="opportunity-zones/projects/",x="".concat(_,"FETCH"),M="".concat(_,"LOAD"),W="".concat(_,"CREATE"),I="".concat(_,"FILTER"),G="".concat(_,"SET_FILTER"),J="".concat(_,"SET_ACTIVE"),V=(fetch,z(x)),Z=D(M),U=(D(W),D(I),D(G)),X=D(J),$={activeFilters:{oz:!1,neighborhoods:Object(b.a)(B)},items:[],filteredItems:[],active:"",hello:""},q=Object(E.createReducer)($,[[M,Object(g.a)("items")],[W,function(e){return Object(j.a)({items:Object(O.a)(e)})}],[I,function(e,t){return console.log(e,t),e}],[G,function(e){return Object(v.a)({activeFilters:e})}],[J,function(e){return Object(g.a)("active",e.id)}]]);a(176);var K=a(229),Q=a(134),Y=a(145),ee=a(215);function te(e){var t=e.metrics;return r.a.createElement("div",{className:"metrics-list project--section"},r.a.createElement(h.Heading,{size:6},"Metrics"),t.map(function(e,t){return r.a.createElement("div",{className:"metrics-list--item",key:t},r.a.createElement("p",{className:"metrics-list--by"},e.year||"????"),r.a.createElement("p",{className:"metrics-list--metric"},e.metric),e.now?r.a.createElement("p",{className:"metrics-list--now"},e.now):null,e.source?r.a.createElement("p",{className:"metrics-list--source"},e.source):null)}))}function ae(e){var t=e.sectionName,a=e.list,n=e.color,o=void 0===n?"light":n;return r.a.createElement("div",{className:"project--section"},r.a.createElement(h.Heading,{size:6,style:{marginBottom:"0.25em"}},t),r.a.createElement(h.Tag.Group,null,Object(K.a)(a)&&r.a.createElement("i",null,"to be determined")||a.map(function(e,t){return r.a.createElement(h.Tag,{key:t,color:o,className:"is-medium"},e)})))}function ne(e){var t=e.steps;return r.a.createElement("ul",{className:"project-steps project--section"},t.map(function(e,t){return r.a.createElement("li",{key:t},e)}))}function re(e){return JSON.stringify(Object(Q.a)(e)).replace(/{|}|\:|\[|\]|"|\,/g," ")}function oe(e){var t=Object(Y.a)(re,e.metrics).join(" ");return re(Object(ee.a)(["id","metrics"],e))+" "+t}function ce(e){var t=e.project,a=e.isActive,n=void 0!==a&&a,o=e.makeActive;return r.a.createElement(h.Card,{className:"project ".concat(n&&"active"),"data-jets":oe(t).toLowerCase(),style:{marginBottom:"2rem"},onClick:o},r.a.createElement(h.Card.Header,null,r.a.createElement(h.Card.Header.Title,null,t.Goal,r.a.createElement(h.Tag.Group,{style:{position:"absolute",right:"1em"}},r.a.createElement(h.Tag,{color:"info",style:{marginBottom:0}},t.Section),r.a.createElement(h.Tag,{color:"warning",style:{marginBottom:0}},t.neighborhood)))),r.a.createElement(h.Card.Content,null,r.a.createElement(h.Content,null,r.a.createElement(h.Heading,{size:5},t.Projects),n?r.a.createElement(ne,{steps:t.steps}):null,n&&!Object(K.a)(t.metrics)?r.a.createElement(te,{metrics:t.metrics}):null,r.a.createElement(ae,{sectionName:"Eligible Programs",list:t.eligiblePrograms,color:"primary"}),n&&r.a.createElement(ae,{sectionName:"Potential Programs",list:t["Potential Programs"]}),n&&r.a.createElement(ae,{sectionName:"Lead Partners",list:t["Lead Partners"]}),n&&r.a.createElement(ae,{sectionName:"Support Partners",list:t["Support Partners"]}))))}var ie=a(216),le=a(143),se=a(217),ue=a(80),me=a(115),he=a(218),pe=h.Form.Field,de=h.Form.Input,be=Object(ie.a)(B),ge={neighborhoods:function(e,t){return Object(f.a)(be[t.neighborhood],e)},oz:function(e,t){return e&&Object(f.a)("Opportunity Zone",t.eligiblePrograms||[])||!e&&!0}},je=Object(S.a)(function(e,t){return Object(le.a)(se.a,Object(ue.a)(function(e,t){var a=Object(p.a)(t,2),n=a[0],r=a[1];return Object(me.a)(Object(S.a)(ge[n])(r))(e)},t))(e)}),Oe=Object(he.a)(Y.a);var ve=Object(d.b)(function(e){var t=e.projects,a=t.items;return{projects:void 0===a?[]:a,activeFilters:t.activeFilters,active:t.active}},{setActive:X})(function(e){var t=je(e.activeFilters)(e.projects);return r.a.createElement("div",{id:"projects",style:{height:"calc(100vh - 160px)",overflow:"auto",padding:"1px"}},Oe(function(t){return r.a.createElement(ce,{project:t,key:t.id,makeActive:function(){return e.setActive(t)},isActive:e.active===t.id})})(t))}),fe=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).updateSearch=function(e){a.setState({search:e.target.value})},a.state={search:""},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("style",null,this.state.search&&'#projects>:not([data-jets*="'.concat(this.state.search.toLowerCase(),'"]){display:none}')),r.a.createElement(pe,null,r.a.createElement(de,{color:"primary",placeholder:"Find a Complete Communities Project.",type:"search",className:"is-large",id:"projects-search",value:this.state.search,onChange:this.updateSearch})))}}]),t}(n.Component),Ee=function(e){function t(){return Object(i.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentWillMount",value:function(){this.props.fetchProjects()}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(fe,null),r.a.createElement(ve,null))}}]),t}(n.Component),ye=Object(d.b)(null,{fetchProjects:V})(Ee),Ne="opportunity-zones/neighborhoods/",Ce="".concat(Ne,"FETCH"),ke="".concat(Ne,"LOAD"),Se="".concat(Ne,"LOAD_PROGRAM_FILTERS"),Fe=(fetch,z(Ce)),Te=D(ke);D(Se);function we(e){var t=e.features.filter(function(e){return Object(f.a)(e.properties.SNBNAME,Object(b.a)(B))});return Object(g.a)("features",t)({type:"FeatureCollection"})}var Ae=Object(E.createReducer)({neighborhoods:{features:[],type:"FeatureCollection"},projects:{}},[[ke,Object(g.a)("neighborhoods")]]);a(177);var Pe=a(141),Re=a(120),He=a(225),Le=a(133),De={pickable:!0,stroked:!1,filled:!0,extruded:!0,lineWidthScale:20,lineWidthMinPixels:2,getRadius:100,getLineWidth:1,getElevation:30,autoHighlight:!0},ze=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).updateTooltip=function(e){var t=e.object,n=e.x,r=e.y;a.setState({hoveredNeighborhood:{name:B[t&&t.properties.SNBNAME],x:n,y:r}})},a.handleClick=function(e){var t=e.object;a.props.onShapeClick(t&&t.properties.SNBNAME)},a.state={hoveredNeighborhood:{x:0,y:0}},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this,t={width:"100%",height:400,latitude:29.8,longitude:-95.4,zoom:10},a=Object(He.a)(function(t){return Object(f.a)(Object(Le.a)(["properties","SNBNAME"])(t),e.props.activeNeighborhoods)})(this.props.data.features),n=Object(p.a)(a,2),o={features:n[0],type:"FeatureCollection"},c={features:n[1],type:"FeatureCollection"};return r.a.createElement("div",{style:{height:t.height}},r.a.createElement(Re.b,Object.assign({controller:!0,initialViewState:t},t),r.a.createElement(h.Tag.Group,{className:"map-tooltip",gapless:!0,style:{left:this.state.hoveredNeighborhood.x+10,top:this.state.hoveredNeighborhood.y-20,display:this.state.hoveredNeighborhood.name?"block":"none"}},r.a.createElement(h.Tag,{color:"warning"},this.state.hoveredNeighborhood.name)),r.a.createElement(Re.a,Object.assign({id:"active-neighborhoods",data:o},De,{getFillColor:[255,221,87,255],highlightColor:[255,221,87,200],onClick:this.handleClick,onHover:this.updateTooltip})),r.a.createElement(Re.a,Object.assign({id:"inactive-neighborhoods",data:c},De,{getFillColor:[160,160,180,200],onClick:this.handleClick,onHover:this.updateTooltip})),r.a.createElement(Pe.a,Object.assign({},t,{mapOptions:{style:"mapbox://styles/mapbox/streets-v10"}}))))}}]),t}(n.Component),Be={neighborhood:"warning",eligiblePrograms:"primary",Section:"info","OZ Eligible":"success","Potential Programs":"primary","Lead Partners":"info","Support Parners":"info"};function _e(e){var t=e.type,a=e.children,n=e.handleDelete;return r.a.createElement(h.Tag,{color:Be[t]},a,r.a.createElement(h.Button,{color:Be[t],remove:!0,onClick:function(e){e.preventDefault(),n()}}))}var xe=a(114),Me=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).toggleNeighborhood=function(e){var t=a.props.activeFilters.neighborhoods,n=(Object(f.a)(e,t)&&Object(T.a)(Object(xe.a)(e))||Object(O.a)(e))(t);a.props.setFilter({neighborhoods:n})},a.toggleOZ=function(){a.props.setFilter({oz:!a.props.activeFilters.oz})},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentWillMount",value:function(){this.props.fetchNeighborhoods()}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{style:{position:"relative"}},r.a.createElement(ze,{data:this.props.neighborhoods,onShapeClick:this.toggleNeighborhood,activeNeighborhoods:this.props.activeFilters.neighborhoods}),r.a.createElement(h.Heading,{size:5,style:{marginTop:"1rem",marginBottom:"0.25rem"}},"Filters"),r.a.createElement(h.Tag.Group,null,this.props.activeFilters.neighborhoods.map(function(t,a){return r.a.createElement(_e,{handleDelete:function(){return e.toggleNeighborhood(t)},key:a,type:"neighborhood"},B[t])})))}}]),t}(n.Component),We=Object(d.b)(function(e){var t=e.filters.neighborhoods,a=void 0===t?{}:t,n=e.projects.activeFilters;return{neighborhoods:a,activeFilters:void 0===n?{}:n}},{fetchNeighborhoods:Fe,setFilter:U})(Me),Ie=function(e){function t(){return Object(i.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"App"},r.a.createElement(h.Section,null,r.a.createElement(h.Container,{fluid:!0},r.a.createElement(h.Columns,null,r.a.createElement(h.Columns.Column,{size:7},r.a.createElement(ye,null)),r.a.createElement(h.Columns.Column,null,r.a.createElement(We,null))))))}}]),t}(n.Component),Ge=a(71),Je=a(221),Ve=a(222),Ze=Object(Ve.a)(function(e){return e.pipe(Object(k.a)(x),Object(y.a)(function(e){return C.a.getJSON("".concat("https://mokshadata.github.io/complete-communities-alpha/","data/complete-communities-projects.json")).pipe(Object(N.a)(Z))}))},function(e){return e.pipe(Object(k.a)(Ce),Object(y.a)(function(e){return C.a.getJSON("".concat("https://mokshadata.github.io/complete-communities-alpha/","data/Super_Neighborhoods.geojson")).pipe(Object(N.a)(we),Object(N.a)(Te))}))}),Ue=Object(Ge.c)({projects:q,filters:Ae}),Xe=Object(Je.a)(),$e=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||Ge.d;var qe=function(){var e=Object(Ge.e)(Ue,$e(Object(Ge.a)(Xe)));return Xe.run(Ze),e}();Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(d.a,{store:qe},r.a.createElement(Ie,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[161,1,2]]]);
//# sourceMappingURL=main.b95a86d1.chunk.js.map